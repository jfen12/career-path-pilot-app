(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{3559:function(e,l,t){Promise.resolve().then(t.bind(t,1618))},1618:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return u}});var a=t(6591),r=t(3168),s=t(2782),i=t(6563),n=t(3079),c=t(239),d=t(7679),o=t(2577),m=t(4522);function u(e){let{params:l}=e,t=(0,s.useRouter)(),[u,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(null),[j,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/jobs/".concat(l.id));if(!e.ok)throw Error("Failed to fetch job");let t=await e.json();y(t)}catch(e){x(e instanceof Error?e.message:"An error occurred")}})()},[l.id]);let v=async e=>{e.preventDefault(),h(!0),x(null);let a=new FormData(e.currentTarget),r={title:a.get("title"),company:a.get("company"),location:a.get("location"),description:a.get("description"),requirements:a.get("requirements").split("\n").filter(Boolean),salary_min:parseInt(a.get("salary_min")),salary_max:parseInt(a.get("salary_max")),job_type:a.get("job_type"),experience_level:a.get("experience_level"),status:a.get("status")};try{let e=await fetch("/api/jobs/".concat(l.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok)throw Error("Failed to update job");let a=await e.json();t.push("/jobs/".concat(a.id))}catch(e){x(e instanceof Error?e.message:"An error occurred")}finally{h(!1)}};return j?(0,a.jsx)("div",{className:"container mx-auto py-8",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Edit Job"})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[p&&(0,a.jsx)("div",{className:"p-4 bg-red-50 text-red-600 rounded-md",children:p}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"title",children:"Job Title"}),(0,a.jsx)(c.I,{id:"title",name:"title",required:!0,defaultValue:j.title,placeholder:"e.g. Senior Software Engineer"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"company",children:"Company"}),(0,a.jsx)(c.I,{id:"company",name:"company",required:!0,defaultValue:j.company,placeholder:"e.g. TechCorp"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"location",children:"Location"}),(0,a.jsx)(c.I,{id:"location",name:"location",required:!0,defaultValue:j.location,placeholder:"e.g. San Francisco, CA or Remote"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"job_type",children:"Job Type"}),(0,a.jsxs)(o.Select,{name:"job_type",required:!0,defaultValue:j.job_type,children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Select job type"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"full-time",children:"Full Time"}),(0,a.jsx)(o.SelectItem,{value:"part-time",children:"Part Time"}),(0,a.jsx)(o.SelectItem,{value:"contract",children:"Contract"}),(0,a.jsx)(o.SelectItem,{value:"internship",children:"Internship"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"experience_level",children:"Experience Level"}),(0,a.jsxs)(o.Select,{name:"experience_level",required:!0,defaultValue:j.experience_level,children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Select experience level"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"entry",children:"Entry Level"}),(0,a.jsx)(o.SelectItem,{value:"mid",children:"Mid Level"}),(0,a.jsx)(o.SelectItem,{value:"senior",children:"Senior Level"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(o.Select,{name:"status",required:!0,defaultValue:j.status,children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Select status"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"active",children:"Active"}),(0,a.jsx)(o.SelectItem,{value:"closed",children:"Closed"}),(0,a.jsx)(o.SelectItem,{value:"draft",children:"Draft"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"salary_min",children:"Minimum Salary"}),(0,a.jsx)(c.I,{id:"salary_min",name:"salary_min",type:"number",defaultValue:j.salary_min,placeholder:"e.g. 80000"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"salary_max",children:"Maximum Salary"}),(0,a.jsx)(c.I,{id:"salary_max",name:"salary_max",type:"number",defaultValue:j.salary_max,placeholder:"e.g. 120000"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"description",children:"Job Description"}),(0,a.jsx)(d.g,{id:"description",name:"description",required:!0,defaultValue:j.description,placeholder:"Describe the job responsibilities and requirements...",className:"min-h-[200px]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"requirements",children:"Requirements (one per line)"}),(0,a.jsx)(d.g,{id:"requirements",name:"requirements",required:!0,defaultValue:j.requirements.join("\n"),placeholder:"React TypeScript Node.js",className:"min-h-[100px]"})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.z,{type:"submit",disabled:u,children:u?"Updating...":"Update Job"})})]})})]})}):(0,a.jsx)("div",{children:"Loading..."})}}},function(e){e.O(0,[146,7,440,443,686,744],function(){return e(e.s=3559)}),_N_E=e.O()}]);