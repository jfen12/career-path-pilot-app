(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{4944:function(){},7068:function(e,s,i){Promise.resolve().then(i.bind(i,2609))},2609:function(e,s,i){"use strict";i.r(s),i.d(s,{BillingClient:function(){return p}});var t=i(6591),r=i(3168),a=i(1257),n=i(4417);if(!n.env.STRIPE_SECRET_KEY)throw Error("Missing env.STRIPE_SECRET_KEY");let l=n.env.STRIPE_SECRET_KEY,o=[{id:"free",name:"Free",description:"Basic features for small teams",price:0,interval:"month",features:["Up to 10 employees","Basic skill tracking","Standard reports","Email support"],limits:{employees:10,skillsPerEmployee:5,customSkills:!1,advancedAnalytics:!1,apiAccess:!1}},{id:"pro",name:"Pro",description:"Advanced features for growing teams",price:29,interval:"month",features:["Up to 50 employees","Unlimited skill tracking","Custom skills","Advanced analytics","Priority support"],limits:{employees:50,skillsPerEmployee:-1,customSkills:!0,advancedAnalytics:!0,apiAccess:!1}},{id:"enterprise",name:"Enterprise",description:"Complete solution for large organizations",price:99,interval:"month",features:["Unlimited employees","Unlimited skill tracking","Custom skills","Advanced analytics","API access","Dedicated support","Custom integrations"],limits:{employees:-1,skillsPerEmployee:-1,customSkills:!0,advancedAnalytics:!0,apiAccess:!0}}];new a.Z(l,{apiVersion:"2023-10-16",typescript:!0});var c=i(1225),d=i(2782);function p(e){let{customerId:s,userId:i}=e,[a,n]=(0,r.useState)(!1);(0,d.useRouter)(),(0,c.createClientComponentClient)();let l=async e=>{try{n(!0);let t=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e,customerId:s,userId:i})}),{url:r}=await t.json();window.location.href=r}catch(e){console.error("Error:",e)}finally{n(!1)}},p=async()=>{try{n(!0);let e=await fetch("/api/stripe/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:s})}),{url:i}=await e.json();window.location.href=i}catch(e){console.error("Error:",e)}finally{n(!1)}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:o.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:e.description}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:["$",e.price]}),(0,t.jsxs)("span",{className:"text-gray-500",children:["/",e.interval]})]}),(0,t.jsx)("ul",{className:"mt-6 space-y-2",children:e.features.map(e=>(0,t.jsxs)("li",{className:"flex items-center text-gray-600",children:[(0,t.jsx)("svg",{className:"mr-2 h-5 w-5 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e]},e))}),(0,t.jsx)("button",{onClick:()=>l(e.id),disabled:a,className:"mt-6 w-full bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md disabled:opacity-50",children:a?"Loading...":"Subscribe"})]},e.id))}),s&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{onClick:p,disabled:a,className:"bg-white border border-primary-600 text-primary-600 hover:bg-primary-50 px-4 py-2 rounded-md disabled:opacity-50",children:a?"Loading...":"Manage Subscription"})})]})}}},function(e){e.O(0,[374,257,443,686,744],function(){return e(e.s=7068)}),_N_E=e.O()}]);